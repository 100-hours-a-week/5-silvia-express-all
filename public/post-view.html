<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Post Detail</title>
    <link rel="stylesheet" href="post-view.css" />
  </head>
  <body>
    <div class="header">
      <div class="header-title">
        <div class="header-group">
          <button class="custom-button" onclick="goBack()">〈</button>
        </div>
        <h1>아무 말 대잔치</h1>
        <div class="header-group"><div class="profile-circle"></div></div>
      </div>
    </div>
    <hr class="top-line" />
    <div class="post-top">
      <h2>제목 1</h2>
      <div class="post-detail">
        <div class="gray-circle"></div>
        <div class="author">더미 작성자 1</div>
        <p>2021-01-01 00:00:00</p>
        <div class="buttons">
          <button>
            수정
          </button>
          
          <button id="post-delete-button">삭제</button>
        <div class="withdraw_modal hidden">
            <div class="modal_overlay"></div>
            <div class="modal_content">
                <h3>댓글을 삭제하시겠습니까?</h3>
                <p>삭제한 내용은 복구할 수 없습니다.</p>
                <div class="modal-buttons">
                    <button id="withdraw-modal-cancel">취소</button>
                    <button id="withdraw-modal-submit">확인</button>
                </div>
            </div>
        </div>

        
          
          <div class="post_modal hidden">
            <div class="modal_overlay"></div>
            <div class="modal_content">
              <h3>게시글을 삭제하시겠습니까?</h3>
              <p>삭제한 내용은 복구할 수 없습니다.</p>
              <div class="modal-buttons">
                <button id="post-modal-cancel">취소</button>
                <button id="post-modal-submit">확인</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr class="post-line" />
    <div class="post-content">
      <div class="post-image"></div>
      <div class="post-content-text">
        무엇을 얘기할까요? 아무말이라면, 삶은 항상 놀라운 모험이라고 생각합니다.
      </div>
    </div>
    <div class="post-count">
      <div class="view-count">
        <div class="bold-text">123</div>
        <div>조회수</div>
      </div>
      <div class="comment-count">
        <div class="bold-text">123</div>
        <div>댓글</div>
      </div>
    </div>
    <hr class="post-line" />
    <div class="comment-input">
      <input type="text" class="comment-input-field" placeholder="댓글을 남겨주세요!">
      <hr />
      <div class="comment-submit-button">
        <button>댓글 등록</button>
      </div>
    </div>
    <div class="first-comment">
      <div class="comment">
        <div class="comment-author">
          <div class="gray-circle"></div>
          <div class="comment-author-name">더미 작성자1</div>
          <div class="comment-date">2021-01-01- 00:00:00</div>
        </div>
        <!-- 댓글 버튼!@!!! -->
        <div class="comment-content">
          <p>덧글 내용입니다ㅏㅏ</p>
          <div class="comment-button">
            <button id="comment-edit-button">
              수정
            </button>
            <!-- 댓글 모달!@!!! -->
            <button id="comment-delete-button">삭제</button>
       <div class="comment_modal hidden">
    <div class="modal_overlay"></div>
    <div class="modal_comment_content">
        <h3>댓글을 삭제하시겠습니까?</h3>
        <p>삭제한 내용은 복구할 수 없습니다.</p>
        <div class="modal-buttons">
            <!-- 이름 수정: #comment-modal-cancel로 변경 -->
            <button id="comment-modal-cancel">취소</button>
            <!-- 이름 수정: #comment-modal-submit로 변경 -->
            <button id="comment-modal-submit">확인</button>
        </div>
    </div>
</div>

<!-- 모달 테스트 -->






        
        </div>
        
      </div>

   

    <div class="comment">
      <div class="comment-author">
        <div class="gray-circle"></div>
        <div class="comment-author-name">더미 작성자1</div>
        <div class="comment-date">2021-01-01- 00:00:00</div>
      </div>
      <div class="comment-content"><p>덧글 내용</p></div>
    </div>
    <div class="comment">
      <div class="comment-author">
        <div class="gray-circle"></div>
        <div class="comment-author-name">더미 작성자1</div>
        <div class="comment-date">2021-01-01- 00:00:00</div>
      </div>
      <div class="comment-content"><p>덧글 내용</p></div>
    </div>
    

    
    <button id="post-delete-button">삭제</button>
    <div class="post_modal hidden">
        <div class="modal_overlay"></div>
        <div class="modal_content">
            <h3>게시글을 삭제하시겠습니까?</h3>
            <p>삭제한 내용은 복구할 수 없습니다.</p>
            <div class="post_modal_buttons">
                <button id="post_modal_cancel">취소</button>
                <button id="post_modal_submit">확인</button>
            </div>
        </div>
    </div>
    
  </body>
  <script>
   

    // input 태그 요소 가져오기
const commentInput = document.querySelector('.comment-input-field');

// input 필드의 내용이 변경될 때마다 이벤트를 감지하고 색상을 변경하는 함수
commentInput.addEventListener('input', function() {
    const comment = this.value.trim(); // 입력 필드의 값을 가져와서 공백을 제거합니다.
    const commentSubmitButton = document.querySelector('.comment-submit-button button');

    // 댓글이 비어 있지 않으면
    if (comment !== '') {
        // 댓글의 색상을 변경합니다.
        commentSubmitButton.style.backgroundColor = '#7F6AEE';
    } else {
        // 댓글이 비어 있으면 기본 색상으로 변경합니다.
        commentSubmitButton.style.backgroundColor = ''; // 혹은 원래의 색상값으로 변경합니다.
    }
});


document.getElementById("withdraw-modal-submit").addEventListener("click", function() {
    // 게시글이 삭제되었다는 알림 창 표시
    alert("게시글이 삭제되었습니다.");
    
    // index.html로 이동
    window.location.href = "index.html";
});



// 여기부터 ㅎㅎㅎ 댓글 관련임다 sdfsdfdsfasdfas
document.getElementById("comment-edit-button").addEventListener("click", function() {
    var inputField = document.querySelector(".comment-input-field");
    inputField.placeholder = "수정할 내용을 입력하세요";
    var submitButton = document.querySelector(".comment-submit-button button");
    submitButton.textContent = "댓글 수정";
    submitButton.onclick = function() {
        alert("댓글이 수정되었습니다.");
        inputField.value = "";
        inputField.placeholder = "댓글을 남겨주세요!";
        submitButton.textContent = "댓글 등록";
        submitButton.onclick = function() {
            alert("댓글이 등록되었습니다.");
        };
    };
});


//댓글 모달
const openButton = document.getElementById('post-delete-button');
const post_modal = document.querySelector('.post_modal');
const closeBtn = document.getElementById('post_modal_cancel');
const submitBtn = document.getElementById('post_modal_submit');

const openModal = () => {
    post_modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
};
const closeModal = () => {
    post_modal.classList.add('hidden');
    document.body.style.overflow = 'auto';
};
const submitModal = () => {
    alert("게시글이 삭제되었습니다.");
    window.location.href = 'index.html';
};

openButton.addEventListener('click', openModal);
closeBtn.addEventListener('click', closeModal);
submitBtn.addEventListener('click', submitModal);

  </script>
</html>
